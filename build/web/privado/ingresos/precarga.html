<!DOCTYPE html>
<html>
    <head>
        <title>Precarga</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link href="../../publico/css/normalize.css" rel="stylesheet"/>
        <link href="../../publico/css/pure.css" rel="stylesheet" />
        <link rel="stylesheet" href="../../publico/css/ingresos.css" />
        <link href="../../publico/css/ingresos_print_table.css" rel="stylesheet" media="print" />




    </head>
    <body class="wrapper">

        <header>

            <nav class="flexContainer">
                <div id="printPdfDivisor"></div>
                <ul class="nav flexItem flexStart">
                    <li><a href="#">
                            <img src="../../img/wega-logoOld.png" alt="Logo Wega" id="logo"/>
                            <img src="../../img/wega-logoOld.png" alt="Logo Wega" id="logoPdf"/>
                        </a></li>
                </ul>
                <h3 id="titleInfGenerico">Control de ingreso</h3>
                <ul class="nav flexContainer flexEnd">
                    <li><a href="../principal.html">MENU</a></li>
                    <!--li><a href="">Productos</a></li>
                    <li><a href="informes.html">Informes</a></li -->

                </ul>
            </nav>
        </header>
        

        <section  >
            <div id="cuerpoPackagingAuxPrint"></div>
            <div></div><div></div>

            <h2>Control de Ingresos</h2>
            <div class="opciones" id="panelOpciones"> 

                <article>
                    <button class="OpcionBtn" id="nuevoBtn">Precarga</button>
                    <button class="OpcionBtn" id="listadoBtn">Carga</button>
                    <button class="OpcionBtn" id="informeBtn">Inf. Generico</button>
                    
                </article>

            </div>


            <!--div class="pure-form pure-form-stacked" id="panelPrincipal"-->
            <div class="pure-form" id="panelPrincipal">
                <div id="pnlListado" ></div>
                <div id="pnlInformeGenerico"> </div>
                <div id="pnlBienvenida" class="pnlBienvenidaCss"> <i class="fa fa-file-text-o fa-5" aria-hidden="true"></i></div>
                <div id="pnlNuevo">

                    <div id="encabezado"> 
                        <h3>Precarga</h3>
                        <div id="nuevo">
                            <article>
                                <label>Manifiesto</label>
                                <input  type="text" name="cod_manifiesto" value="" id="codigo_manifiesto">
                            </article>
                            <article>
                                <label>Manifiesto</label>
                                <input  type="date" name="fecha_manifiesto" value="" id="fecha_manifiesto">
                            </article>
                            <article>
                                <label>Arribo</label>
                                <input type="hidden" name="id_arribo" id="id_arribo"/>
                                <span id="inputSelectArribo"></span>
                            </article>

                            <article>
                                <label>Prov</label>
                                <input type="hidden" name="id_proveedor" id="id_proveedor"/>
                                <span id="inputSelectProveedor"></span>
                            </article>
                            <article>
                                <label>Obs</label>
                                <input type="text" name="obs" id="obs"/>
                            </article>

                        </div>
                    </div>

                    <div>
                        <div class="center">
                            <!--h3>Items</h3-->
                            <div id="itemsContenedor">

                                <article class="itemsManifiesto" id="productItem">
                                    <span id="productOrder" style="display: none;">1</span>
                                    <div><label class="etiqueta">Código</label> 
                                        <input type="hidden" name="producto_id" id="producto_id"/>
                                        <input type="hidden" name="producto" id="producto" />
                                        <span id="inputSelectProducto"></span>
                                        <!--div id="pnlSearch">
                                            <input type="hidden" id="idProducto" name="producto_id">
                                            <input type="text" id="inpSearch" name="name" onkeyup="Producto.buscar();" autocomplete="off">                                              
                                            <div id="contentPnl">
                                                <div id="panelMensajes" class="panelMensajes"></div>
                                            </div>
                                        </div-->
                                    </div>
                                    <div><label class="etiqueta">Cantidad</label><input class="numero" id="cant1" name="cant1" type="number"></div>
                                    <div><label class="etiqueta">Muestras</label><input class="numero" id="muestras1" name="muestras1" type="number"></div>
                                    <div><label class="etiqueta">Obs</label><input id="obs1" name="obs"/></div>
                                </article>
                            </div>


                            <button class="pure-button-active pure-button" id="grabarPrecarga">Grabar</button>
                            <button class="pure-button-active pure-button" id="agregarItem">Agregar item</button>
                            
                            <button type="button" class="button-warning pure-button" id="saveDraft">Grabar borrador</button>
                            <button type="button" class="button-warning pure-button" id="recoverDraft">Recuperar borrador</button>
                        </div>
                        
                    </div>


                    <!--div>
                        <table style="text-align:center;">
                                <tr> <th>Código</th> <th>Cantidad</th>  <th>Observaciones</th>  </tr>
                                <tr><td><input value="1" readonly=""/></td> <td><input value="A-2001" readonly=""/></td> <td>30/08/2018</td> <td> <button onclick="document.getElementById('cargaModal').style.display = 'block';" class="button-success pure-button">Cargar</button> </td> </tr>
                                
                                
                            </table>
                    </div-->
                    
                    


                </div>
                <div id="panelMensajes"></div>
            </div>

        </section>
        <footer>
        </footer>
        
        <div id="cargaModal" class="modal">

            <div class="modal-content">
                <button id="cargaBtn" class="closeModal">X</button>
                <div id="cargaEncabezado">

                </div>
                <div id="cargaCuerpo">
                    <div id="cuerpoPrecarga"></div>
                    <div id="cuerpoPackaging"></div>
                    

                </div>
                <div id="cargaPie">

                </div>
            </div>
        </div>

        <div id="packagingModal" class="modalPackaging pure-form">
            <div class="modal-content-Packaging">
                <button id="packagingClose" class="closeModal">X</button>
                <p>Código de producto seleccionado: <span id="packagingProducto"></span></p>
                <div id="cajaColectiva">
                    <h3>Caja colectiva</h3>
                    <div class="container">
                        <span>Código de barra:</span>
                        <div class="button-wrap">
                            <input class="hidden radio-label yes-button" type="radio" name="col_cod_barra" id="col_cod_barra1" value="1"/>
                            <label class="button-label" for="col_cod_barra1">
                                <h1>OK</h1>
                            </label>
                            <input class="hidden radio-label no-button" type="radio" name="col_cod_barra" id="col_cod_barra2" value="2"/>
                            <label class="button-label" for="col_cod_barra2">
                                <h1>No OK</h1>
                            </label>
                            <input class="hidden radio-label maybe-button" type="radio" name="col_cod_barra" id="col_cod_barra3" value="3"/>
                            <label class="button-label" for="col_cod_barra3">
                                <h1>N/A</h1>
                            </label>
                            <input type="text" class="obsIndividuales" id="pkg_col_cod_barra_obs"/>
                        </div>
                    </div>
                </div>
                <div id="cajaIndividual">
                    <h3>Caja individual</h3>                    
                    <div class="container">
                        <span>Código de barra:</span>
                        <div class="button-wrap">
                            <input class="hidden radio-label yes-button" type="radio" name="ind_cod_barra" id="ind_cod_barra1" value="1"/>
                            <label class="button-label" for="ind_cod_barra1">
                                <h1>OK</h1>
                            </label>
                            <input class="hidden radio-label no-button" type="radio" name="ind_cod_barra" id="ind_cod_barra2" value="2"/>
                            <label class="button-label" for="ind_cod_barra2">
                                <h1>No OK</h1>
                            </label>
                            <input class="hidden radio-label maybe-button" type="radio" name="ind_cod_barra" id="ind_cod_barra3" value="3 "/>
                            <label class="button-label" for="ind_cod_barra3">
                                <h1>N/A</h1>
                            </label>
                            <input type="text" class="obsIndividuales" id="pkg_ind_cod_barra_obs"/>
                        </div>
                    </div>
                    <div class="container">
                        <span>Identificación:</span>
                        <div class="button-wrap">
                            <input class="hidden radio-label yes-button" type="radio" name="ind_ident" id="ind_ident1" value="1"/>
                            <label class="button-label" for="ind_ident1">
                                <h1>OK</h1>
                            </label>
                            <input class="hidden radio-label no-button" type="radio" name="ind_ident" id="ind_ident2" value="2"/>
                            <label class="button-label" for="ind_ident2">
                                <h1>No OK</h1>
                            </label>
                            <input class="hidden radio-label maybe-button" type="radio" name="ind_ident" id="ind_ident3" value="3"/>
                            <label class="button-label" for="ind_ident3">
                                <h1>N/A</h1>
                            </label>
                            <input type="text" class="obsIndividuales" id="pkg_ind_ident_obs"/>
                        </div>
                    </div>

                    <div class="container">
                        <span>Equivalencias:</span>
                        <div class="button-wrap">
                            <input class="hidden radio-label yes-button" type="radio" name="ind_equiv" id="equiv1" value="1"/>
                            <label class="button-label" for="equiv1">
                                <h1>OK</h1>
                            </label>
                            <input class="hidden radio-label no-button" type="radio" name="ind_equiv" id="equiv2" value="2"/>
                            <label class="button-label" for="equiv2">
                                <h1>No OK</h1>
                            </label>
                            <input class="hidden radio-label maybe-button" type="radio" name="ind_equiv" id="equiv3" value="3"/>
                            <label class="button-label" for="equiv3">
                                <h1>N/A</h1>
                            </label>
                            <input type="text" class="obsIndividuales" id="pkg_ind_equiv_obs"/>
                        </div>
                    </div>

                    <div class="container">
                        <span>Aplicaciones:</span>
                        <div class="button-wrap">
                            <input class="hidden radio-label yes-button" type="radio" name="ind_aplica" id="aplica1" value="1"/>
                            <label class="button-label" for="aplica1">
                                <h1>OK</h1>
                            </label>
                            <input class="hidden radio-label no-button" type="radio" name="ind_aplica" id="aplica2" value="2"/>
                            <label class="button-label" for="aplica2">
                                <h1>No OK</h1>
                            </label>
                            <input class="hidden radio-label maybe-button" type="radio" name="ind_aplica" id="aplica3" value="3"/>
                            <label class="button-label" for="aplica3">
                                <h1>N/A</h1>
                            </label>
                            <input type="text" class="obsIndividuales" id="pkg_ind_aplica_obs"/>
                        </div>
                    </div>

                    <div class="container">
                        <span>CHAS</span>
                        <div class="button-wrap">
                            <input class="hidden radio-label yes-button" type="radio" name="ind_chas" id="chas1" value="1"/>
                            <label class="button-label" for="chas1">
                                <h1>OK</h1>
                            </label>
                            <input class="hidden radio-label no-button" type="radio" name="ind_chas" id="chas2" value="2"/>
                            <label class="button-label" for="chas2">
                                <h1>No OK</h1>
                            </label>
                            <input class="hidden radio-label maybe-button" type="radio" name="ind_chas" id="chas3" value="3"/>
                            <label class="button-label" for="chas3">
                                <h1>N/A</h1>
                            </label>
                            <input type="text" class="obsIndividuales" id="pkg_ind_chas_obs"/>
                        </div>
                    </div>

                </div>
                
                

                <span id="idDetalle"></span>
                <button class="pure-button-active pure-button" id="grabarPackaging">Grabar</button>
            </div>           
        </div>

        <!-- 
        <div id="packagingModal" class="modalPackaging pure-form">
            <div class="modal-content-Packaging">
        -->
        <!-- Plan de Control de Bujias -->
        <!--
        <div id="BujiasEncendidoModal" class="modalBujiasEncendido pure-form">
            <div class="modal-content-Bujias-Encendido">
        -->
        <div id="DisenoModal" class="modalPackaging pure-form">
            <div class="modal-content-Packaging">

                <button id="planDisenoClose" class="closeModal">X</button>
                <p>Código de producto: <span id="productoSelectPlanDiseno" class="bold"></span> | Familia: <span id="familiaPlanControl" class="bold"></span> | Subfamilia: <span id="subFamiliaPlanControl" class="bold"></span></p>
                <div id="planDisenoContent"></div>  
                <span id="idDetallePlanDiseno"></span>
                <button class="pure-button-active pure-button" id="grabarPlanDiseno">Grabar</button>
            </div>
        </div>

        <div id="controlarPlanModal" class="modalcontrolarPlan pure-form">
            <div class="modal-content-controlarPlan">

                <button id="controlarPlanClose" class="closeModal">X</button>
                <div id="controlarPlanContent"></div>  
            </div>
        </div>

        <div id="MedidasModal" class="modalMedidas pure-form">
            <div class="modal-content-medidas">

                <button id="MedidasClose" class="closeModal">X</button>
                <div id="MedidasContent"></div>  
            </div>
        </div>
        
        <div id="myModal" class="modalSpinner">
            <div class="modal-contentSpinner">
                <div class="lds-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
            </div>
        </div>


        <script src="../../publico/js/ingresos/planosDeControl.js"></script>
        <script src="../../publico/js/ingresos/ingresos.js"></script>
        <script src="../../publico/js/ingresos/templatePlanControl.js"></script>
        <script src="../../publico/js/ingresos/precarga.js"></script>
        <script src="../../publico/js/ingresos/informes.js"></script>
        <script src="../../publico/js/mvc.js"></script>
        <script src="../../publico/js/extras.js"></script>
        <script src="../../publico/js/sweetalert.min.js"></script>
        <script src="../../publico/js/notificaciones.js"></script>        
        <script src="../../publico/js/ingresos/PrecargaProductos.js"></script>
        <script>
            delete window.document.referrer;
        window.document.__defineGetter__('referrer', function () {
            return "yoururl.com";
        });
            console.log(document.referrer);
            if (document.referrer.includes("searchIngresos")) {
   console.log("encontro anchor");
} else {
    console.log("No encontro anchor");
}
        </script>
        <script>
            let template = " `<input list='id_proveedor2' name='id_proveedor2' data-value=''/> <datalist name='prot' id='id_proveedor2'> ${result.map( result =>  ` <option data-value='${result.prov_id}' dato='${result.prov_nombre}' id='${result.prov_id}'>${result.prov_nombre}</option> ` ).join('') } </datalist> `; ";
            Mvc.getDatalist("../Proveedor", "proveedores", "#inputSelectProveedor", template);

            template2 = " `<input list='id_prod' name='id_prod' data-value=''/> <datalist name='prot' id='id_prod'> ${result.map( result =>  ` <option data-value='${result.producto_id}' dato='${result.codigo_producto}' id='${result.producto_id}'>${result.codigo_producto}</option> ` ).join('') } </datalist> `; ";
            Mvc.getDatalist("producto", "productos", "#inputSelectProducto", template2);

            arriboTpl = " \n\
        `<input list='id_arribo2' name='id_arribo2' data-value=''/> \n\
        <datalist name='prot' id='id_arribo2'> \n\
        ${result.map( result =>  ` <option data-value='${result.arriboId}' \n\
        dato='${result.nombre}'\n\
        id='${result.arriboId}'>${result.nombre}</option> ` ).join('') } \n\
       </datalist> `; ";
            Mvc.getDatalist("../Arribo", "arribo", "#inputSelectArribo", arriboTpl);
        </script>
    </body>
</html>
